
<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="msapplication-TileColor" content="#6441a4">
<meta name="theme-color" content="#ffffff">
<meta name="generator" content="Hugo 0.55.6" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#6441a4">
<link rel="stylesheet" href="/css/style.min.7af6ce4c77d40dc0befaa6c5b301be234ffb06e4d9e3a2cf4a43dda4922bb283.css" integrity="sha256-evbOTHfUDcC&#43;&#43;qbFswG&#43;I0/7BuTZ46LPSkPdpJIrsoM="  />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
<link rel="icon" href="/favicon.ico" type="image/x-icon"/>
<title>Glitch :: API - Kraken and Helix</title><body class="fixed-nav-padding">
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-purple">
  <a class="navbar-brand" href="/"><img src="/img/logo/white.svg" alt="" /></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
      <li class="nav-item"><a class="nav-link" href="/wiki">Wiki</a></li><li class="nav-item"><a class="nav-link" href="https://github.com/GlitchLib/glitch/releases">Releases</a></li><li class="nav-item"><a class="nav-link" href="/docs">Javadoc</a></li><li class="nav-item"><a class="nav-link" href="https://discord.gg/nJJ2fDM">Discord</a></li>
      
      <li class="nav-item"><a class="nav-link" href="https://github.com/GlitchLib/glitch">GitHub</a></li>
    </ul>
  </div>
  <form class="form-inline">
    <div class="md-form my-0">
      <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
    </div>
  </form>
</nav>
        <main role="main" class="container">
<div class="row">
  <div class="col-lg-3 order-lg-last">
    <div class="wiki-menu-toggle d-lg-none pb-3">
  <button class="btn btn-purple btn-block rounded" type="button" data-toggle="collapse" data-target="#wiki-menu" aria-controls="wiki-menu" aria-expanded="false" aria-label="Toggle Navigation">
    Toggle Navigation
  </button>
</div>












































































<div class="collapse show pb-3" id="wiki-menu">
  
  
  
  <h4>Getting Started</h4>
  <div class="list-group">
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/getting-started/welcome/">Welcome</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/getting-started/intellij/">IntelliJ Setup</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/getting-started/eclipse/">Eclipse Setup</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/getting-started/netbeans/">Netbeans Setup</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/getting-started/glossary/">Glossary</a>
    
  </div>
  
  
  
  
  <h4>Essential Knowledge</h4>
  <div class="list-group">
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/essential-knowledge/getting-client-id-and-secret/">Getting Client ID and Secret</a>
    
  </div>
  
  
  
  
  <h4>Basic Tutorials</h4>
  <div class="list-group">
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/basic-tutorials/client/">Intialize Client</a>
    
    
    <a class="list-group-item list-group-item-action active" href="/wiki/basic-tutorials/api/">API - Kraken and Helix</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/basic-tutorials/chat/">Message Interface</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/basic-tutorials/pubsub/">PubSub</a>
    
  </div>
  
  
  
  
  
  
  
  <h4>FAQ</h4>
  <div class="list-group">
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/faq/general/">General FAQ</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/faq/rate-limit/">Rate Limit Policy/FAQ</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/faq/reactive-streams/">Reactive Streams</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/faq/android-compatibility/">Android Compatibility</a>
    
  </div>
  
  
  
  
  <h4>Miscellaneous</h4>
  <div class="list-group">
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/miscellaneous/bot-account/">Bot Account</a>
    
    
    <a class="list-group-item list-group-item-action" href="/wiki/miscellaneous/guidelines/">Guidelines</a>
    
  </div>
  
  
</div>
  </div>
  <div class="col-lg-9 order-lg-first wiki-container">
    <h1 id="wiki-headline">API - Kraken and Helix</h1>
    

<blockquote class="alert alert-info" role="alert">
All endpoints will returns a <a href="https://projectreactor.io/docs/core/release/reference/#mono">Mono</a> or <a href="https://projectreactor.io/docs/core/release/reference/#flux">Flux</a> response. Other way will be commented <i>inside the example</i>.
</blockquote>

<blockquote class="alert alert-danger" role="alert">
Some part of the events is not done yet. This documentations shows only example, they might be changed in time.
</blockquote>

<h1 id="getting-started">Getting Started</h1>

<p>Before start we need initialize <a href="../client"><code>client</code></a> first at all. After initialization we can now getting into the <a href="#initialize-api">next step</a></p>

<h2 id="initialize-api">Initialize API</h2>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">GlitchKraken kraken <span style="color:#555">=</span> GlitchKraken<span style="color:#555">.</span><span style="color:#309">create</span><span style="color:#555">(</span>client<span style="color:#555">);</span>
<span style="color:#09f;font-style:italic">// same way with Helix
</span><span style="color:#09f;font-style:italic"></span>GlitchHelix helix <span style="color:#555">=</span> GlitchHelix<span style="color:#555">.</span><span style="color:#309">create</span><span style="color:#555">(</span>client<span style="color:#555">);</span></code></pre></div>
<h2 id="what-s-next">What&rsquo;s next?</h2>

<p>All services are be separated to specific API type, so <strong>better watch out</strong> which object you are importing.
Each services are be called using example below:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kraken<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>ChatService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">);</span>
<span style="color:#09f;font-style:italic">// same way with Helix
</span><span style="color:#09f;font-style:italic"></span>kraken<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>UserService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">);</span></code></pre></div>
<p>All endpoints like this will returns <code>Mono</code> object to handling into reactive response.</p>

<h3 id="get-user">Get user</h3>

<p>To getting Twitch user we need use <code>UserService</code> (each one are be separated to specific API)</p>

<blockquote>
<p>For e.g. We wana find <code>twitch</code> user.</p>
</blockquote>

<h4 id="poseidon-s-way-kraken">Poseidon&rsquo;s way (Kraken)</h4>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kraken<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>UserService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">).</span><span style="color:#309">flatMapMany</span><span style="color:#555">(</span>service <span style="color:#555">-&gt;</span> service<span style="color:#555">.</span><span style="color:#309">getUsers</span><span style="color:#555">(</span><span style="color:#c30">&#34;twitch&#34;</span><span style="color:#555">)).</span><span style="color:#309">next</span><span style="color:#555">()</span> <span style="color:#555">//</span> gets first element</code></pre></div>
<p>we can use multiple usernames like this:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kraken<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>UserService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">).</span><span style="color:#309">flatMapMany</span><span style="color:#555">(</span>service <span style="color:#555">-&gt;</span> service<span style="color:#555">.</span><span style="color:#309">getUsers</span><span style="color:#555">(</span><span style="color:#c30">&#34;twitch&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;summit1g&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;izakooo&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;ninja&#34;</span><span style="color:#555">))</span></code></pre></div>
<h4 id="way-with-helix">Way with Helix</h4>

<p>First parameter <code>#getUserByLogin()</code> is always a <code>Credential</code>.
If we want expose email address we need a Authorize user with <code>Scope.USER_READ_EMAIL</code>.
Otherwise <code>User#getEmail()</code> will always returns <code>null</code> if we not provide <code>Credential</code> with specific mentioned <code>Scope</code>.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">helix<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>UserService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">).</span><span style="color:#309">flatMapMany</span><span style="color:#555">(</span>service <span style="color:#555">-&gt;</span> service<span style="color:#555">.</span><span style="color:#309">getUsersByLogin</span><span style="color:#555">(</span>credential<span style="color:#555">,</span> <span style="color:#c30">&#34;twitch&#34;</span><span style="color:#555">)).</span><span style="color:#309">next</span><span style="color:#555">()</span> <span style="color:#555">//</span> gets first element</code></pre></div>
<p>we can use multiple usernames like this:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">helix<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>UserService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">).</span><span style="color:#309">flatMapMany</span><span style="color:#555">(</span>service <span style="color:#555">-&gt;</span> service
          <span style="color:#555">.</span><span style="color:#309">getUsersByLogin</span><span style="color:#555">(</span><span style="color:#069;font-weight:bold">null</span><span style="color:#555">,</span> <span style="color:#c30">&#34;twitch&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;summit1g&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;izakooo&#34;</span><span style="color:#555">,</span> <span style="color:#c30">&#34;ninja&#34;</span><span style="color:#555">))</span> <span style="color:#555">//</span> <span style="color:#069;font-weight:bold">if</span> we don<span style="color:#a00;background-color:#faa">&#39;</span>t needs their e<span style="color:#555">-</span>mails just add <span style="color:#069;font-weight:bold">null</span> on the first parameter</code></pre></div>
<h3 id="getting-user-using-his-id">Getting User using his ID</h3>

<p>Same rules like aboved, but you provides <code>Long</code> id&rsquo;s not <code>String</code>. To formatting <code>Long</code> data use <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#parseLong-java.lang.String-"><code>Long#parseLong(String)</code></a></p>

<h4 id="kraken">Kraken</h4>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">kraken<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>UserService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">).</span><span style="color:#309">flatMap</span><span style="color:#555">(</span>service <span style="color:#555">-&gt;</span> service<span style="color:#555">.</span><span style="color:#309">getUserById</span><span style="color:#555">(</span>12826<span style="color:#555">))</span></code></pre></div>
<h4 id="helix">Helix</h4>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">helix<span style="color:#555">.</span><span style="color:#309">use</span><span style="color:#555">(</span>UserService<span style="color:#555">.</span><span style="color:#309">class</span><span style="color:#555">).</span><span style="color:#309">flatMapMany</span><span style="color:#555">(</span>service <span style="color:#555">-&gt;</span> service
          <span style="color:#555">.</span><span style="color:#309">getUsersByLogin</span><span style="color:#555">(</span><span style="color:#069;font-weight:bold">null</span><span style="color:#555">,</span> 12826<span style="color:#555">,</span> 26490481<span style="color:#555">,</span> 36717908<span style="color:#555">,</span> 19571641<span style="color:#555">))</span></code></pre></div>
    <div id="wiki-footer">Feel free to join <b>Glitch Discord server</b> if you have any questions: <a href="https://discord.gg/nJJ2fDM">Invite Link</a></div>
    <p class="text-center">
      
      <a class="btn btn-purple" href="https://github.com/GlitchLib/page/edit/master/content/wiki/basic-tutorials/api.md"><i class="fas fa-pencil-alt mr-2"></i> Improve this page</a>
      
    </p>
  </div>
</div>

        </main><footer class="page-footer font-small purple pt-4">
  <div class="container text-center text-md-left">
    <div class="row">
      <div class="col-md-4 mt-3 d-none d-md-block text-center">
        <img class="text-align-center" src="/img/logo/white.svg" alt="" height="112" style="filter: grayscale(30%);">
      </div>
      <hr class="clearfix w-100 d-md-none pb-3">
      <div class="col-md-4 mb-md-0 mb-3">
          <h5 class="text-uppercase">Links</h5>
          <ul class="list-unstyled">
            <li><a href="/wiki">Wiki</a></li><li><a href="https://github.com/GlitchLib/glitch/releases">Releases</a></li><li><a href="/docs">Javadoc</a></li><li><a href="https://discord.gg/nJJ2fDM">Discord</a></li>
          </ul>
        </div>
        <div class="col-md-4 mb-md-0 mb-3">
          <h5 class="text-uppercase">Badges</h5>
          <ul class="list-unstyled">
            <li class="my-2">
              <a class="badge-align" href="https://travis-ci.com/GlitchLib/glitch">
                <img src="https://travis-ci.com/GlitchLib/glitch.svg" alt="Status">
              </a>
            </li>
            <li class="my-2">
              <a class="badge-align" href="https://www.codacy.com/app/GlitchLib/glitch?utm_source=glitchlib.github.io&amp;utm_medium=referral&amp;utm_content=GlitchLib/glitch&amp;utm_campaign=Badge_Grade">
                <img src="https://api.codacy.com/project/badge/Grade/752be0bdadda4598ae9336d5681bc370" alt="Quality" />
              </a>
            </li>
            <li class="my-2">
              <a class="badge-align" href="https://discord.gg/jy9BKGq">
                <img src="https://discordapp.com/api/guilds/325552783787032576/widget.png" alt="Twitch API">
              </a>
            </li>
            <li class="my-2">
              <a class="badge-align" href="https://discord.gg/nJJ2fDM">
                <img src="https://discordapp.com/api/guilds/488285226452385792/widget.png" alt="Glitch Discord">
              </a>
            </li>
          </ul>
        </div>
    </div>
  </div>
  <div class="footer-copyright text-center py-3">
    Made with <span style="color: #e25555;">❤️</span> by <a href="https://github.com/stachu540">Damian Staszewski</a>
  </div>
</footer>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/mdb.min.js"></script>
<script type="text/javascript" src="/js/search.min.7ec98d7ddd396ee43275232ee9dab83d4780a05c45e8e621888e0362291aeb35.js"></script></body>
</html>
